{{ define "main" }}

<main class="container">

  <h1>{{ .Title | markdownify }}</h1>

    {{ .Content }}

    {{ $default_image := .Resources.GetMatch .Params.default_image}}
    {{ $default_alt_text := .Params.default_image_alt_text }}

    {{ range .RegularPages }}
      <div class="card">

        {{/* card row 1: image and summary */}}
        <div class="row">

          <div class="col-md-2">
            {{ $image := .Resources.GetMatch .Params.image | default $default_image }}
            {{ $alt_text := .Params.image_alt_text | default $default_alt_text }}
            <img class="img-thumbnail" src="{{ $image.RelPermalink }}" alt={{ $alt_text }}>
          </div>

          <div class="col-md-10">
            <div class="card-body" style="padding: 0rem 1rem;">
              <h2 class="card-title"> {{ .Title | markdownify }} </h2>
              <p> {{ .Params.summary | markdownify }} </p>
            </div>
          </div>

        </div>
        {{/* end card row 1: image and summary */}}

        {{/* card row 2: buttons, links, tags */}}
        <div class="row">
          <div class="offset-md-2 col-md-10">

            {{/* inner row 1: buttons */}}
            <div class="row">
              <div class="card-body" style="padding: 0.5rem 1rem;">
                <a class="btn btn-primary btn-sm" href="#" role="button">Details</a>
                <a class="btn btn-primary btn-sm" href="#" role="button">Demo</a>
                <a class="btn btn-primary btn-sm" href="#" role="button">Source</a>
              </div>
            </div>
            {{/* end inner row 1: buttons}}

            {{/* inner row 2: tags */}}
            <div class="row">
              <div class="card-body" style="padding: 0.5rem 1rem;">
                <h3 class="card-title"> Learning Objectives </h3>
                  <ol>
                    {{range .Params.learning_goals}}
                      <li>{{ . }}</li>
                    {{end}}
                  </ol>
              </div>
            </div>
            {{/* end inner row 2: tags */}}


          </div>
        </div>
        {{/* end card row 2: buttons, links, tags*/}}


      </div>
    {{ end }}

  <h1>Pages (instead of Regular Pages)</h1>
    {{ range .Pages }}
      <h2> {{ .Title | markdownify }} </h2>
      {{ $image := .Resources.GetMatch .Params.image | default $default_image }}
      <p> {{$image}} </p>
      <p> {{$image.RelPermalink}} </p>


    {{ end }}

</main>

{{ end }}
